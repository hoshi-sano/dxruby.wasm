<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>DXRuby.wasm Multi-touch Example</title>
    <script type="module" src="https://pub-a7d0f5fabfb8427eb10cedaf22dcf8aa.r2.dev/load_dxruby_wasm.js"></script>
    <script type="text/ruby" data-eval="async">
      require "dxruby_wasm"

      Window.width = nil
      Window.height = nil

      Window.loop do
        if Input.touch_count >= 2
          Window.bgcolor = C_BLUE
        else
          Window.bgcolor = C_BLACK
        end

        Input.touches.each do |touch|
          Window.draw_circle_fill(touch.x, touch.y, 20, C_YELLOW)
        end

        info = "Touch Count: #{Input.touch_count}"
        if Input.touches.first
          info += ", x1: #{Input.touch_pos_x}, y1: #{Input.touch_pos_y}"
        end
        Window.draw_font(0, 0, info, Font.default)
      end
    </script>
  </head>

  <body>
    <div id="dxruby-out">LOADING...</div>
    <canvas id="dxruby-canvas" style="position: fixed; left: 0; top: 0;"></canvas>
  </body>
</html>
